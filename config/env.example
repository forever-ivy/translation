# V4.1 OpenClaw full-takeover
V4_WORK_ROOT="/Users/ivy/Library/CloudStorage/OneDrive-Personal/Translation Task"
V4_KB_ROOT="/Users/ivy/Library/CloudStorage/OneDrive-Personal/Knowledge Repository"
V4_PYTHON_BIN="/Users/Code/workflow/translation/.venv/bin/python"

# OpenClaw notification target
OPENCLAW_NOTIFY_TARGET="+8615071054627"
OPENCLAW_NOTIFY_CHANNEL="telegram"
OPENCLAW_NOTIFY_ACCOUNT="default"

# IMAP for email ingest (used by scripts/run_v4_email_poll.sh via .env.v4.local)
V4_IMAP_HOST=""
V4_IMAP_PORT=993
V4_IMAP_USER=""
V4_IMAP_PASSWORD=""
V4_IMAP_MAILBOX="INBOX"
V4_IMAP_FROM_FILTER="modeh@eventranz.com"
V4_IMAP_MAX_MESSAGES=5

# Translation pipeline defaults
OPENCLAW_STRICT_ROUTER=1
OPENCLAW_TRANSLATION_THINKING=high
OPENCLAW_CODEX_AGENT=translator-core
OPENCLAW_GEMINI_AGENT=review-core
OPENCLAW_GLM_ENABLED=0
OPENCLAW_GLM_GENERATOR_AGENT=glm-reviewer

# Format QA (Gemini Vision)
OPENCLAW_FORMAT_QA_ENABLED=0
OPENCLAW_FORMAT_QA_THRESHOLD=0.85
OPENCLAW_FORMAT_QA_SHEETS_MAX=6
OPENCLAW_FORMAT_QA_MAX_RETRIES=2
OPENCLAW_DOCX_QA_ENABLED=0
OPENCLAW_DOCX_QA_PAGES_MAX=6
OPENCLAW_DOCX_QA_THRESHOLD=0.85
OPENCLAW_VISION_AESTHETICS_WARN_THRESHOLD=0.7
OPENCLAW_VISION_QA_IN_ROUND=1
OPENCLAW_VISION_QA_MAX_RETRIES=2
OPENCLAW_VISION_QA_TRIAL_MAX_RETRIES=0

# Preserve payload caps (to bound model JSON size)
OPENCLAW_XLSX_TRANSLATION_MAX_CELLS=2000
OPENCLAW_XLSX_MAX_CHARS_PER_CELL=400
OPENCLAW_DOCX_TRANSLATION_MAX_UNITS=1200
OPENCLAW_DOCX_MAX_CHARS_PER_UNIT=800

# Hard output rules
OPENCLAW_DISALLOW_MARKDOWN=1

# Router/ingest attachment support
OPENCLAW_ROUTER_FILE_BLOCK_MAX_MB=35
OPENCLAW_ATTACHMENT_DOWNLOAD_MAX_MB=35
OPENCLAW_ATTACHMENT_DOWNLOAD_TIMEOUT_SECONDS=60

# Knowledge base + RAG
OPENCLAW_KB_ISOLATION_MODE=company_strict
OPENCLAW_RAG_BACKEND=clawrag
OPENCLAW_RAG_BASE_URL=http://127.0.0.1:8080
OPENCLAW_RAG_COLLECTION=translation-kb
OPENCLAW_RAG_COLLECTION_MODE=auto

# KB rerank (merge clawrag + local, then rerank)
OPENCLAW_KB_RERANK_FINAL_K=12
OPENCLAW_KB_RERANK_GLOSSARY_MIN=3
OPENCLAW_KB_RERANK_TERMINOLOGY_GLOSSARY_RATIO=0.4

# Runtime DB (recommended: local path; avoid cloud-synced folders)
OPENCLAW_STATE_DB_PATH=/Users/ivy/.openclaw/runtime/translation/state.sqlite

# Async run worker (recommended: enabled)
# - When enabled, `run` enqueues immediately and the worker executes jobs out-of-band.
# - `scripts/run_telegram_bot.sh` auto-starts the worker unless you disable it here.
OPENCLAW_RUN_WORKER_AUTOSTART=1
OPENCLAW_RUN_WORKER_POLL_SECONDS=2
OPENCLAW_RUN_WORKER_HEARTBEAT_SECONDS=30
OPENCLAW_RUN_WORKER_STUCK_SECONDS=21600
OPENCLAW_RUN_WORKER_MAX_ATTEMPTS=3
OPENCLAW_RUN_WORKER_CANCEL_POLL_SECONDS=0.5
OPENCLAW_RUN_WORKER_CANCEL_GRACE_SECONDS=5
